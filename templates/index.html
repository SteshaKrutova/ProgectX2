{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - ProjectX2{% endblock %}

{% block content %}
{% if current_user.is_authenticated %}
    {% if current_user.role == 'customer' %}
        <!-- –î–∞—à–±–æ—Ä–¥ –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞ -->
        <div class="dashboard-header">
            <h2> –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞</h2>
        </div>

        <div class="dashboard-actions-horizontal">
            <div class="action-card-horizontal">
                <div class="action-icon">üìã</div>
                <div class="action-content">
                    <h3>–£—Å–ª—É–≥–∏</h3>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —É—Å–ª—É–≥–∞–º–∏</p>
                    <a href="{{ url_for('customer_services') }}" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ —É—Å–ª—É–≥–∞–º</a>
                </div>
            </div>
            
            <div class="action-card-horizontal">
                <div class="action-icon">üìà</div>
                <div class="action-content">
                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ —É—Å–ª—É–≥–∞–º</p>
                    <button class="btn btn-secondary" disabled>–°–∫–æ—Ä–æ –±—É–¥–µ—Ç</button>
                </div>
            </div>

            <div class="action-card-horizontal">
                <div class="action-icon">üí∞</div>
                <div class="action-content">
                    <h3> –ü—Ä–æ–º–æ–∫–æ–¥—ã</h3>
                    <p>–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</p>
                    <button class="btn btn-secondary" disabled>–°–∫–æ—Ä–æ –±—É–¥–µ—Ç</button>
                </div>
            </div>
        </div>

    {% else %}
        <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        <div class="welcome-section">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ProjectX2!</h2>
            <p>–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏ —Å —Ç—Ä–µ–º—è —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</p>
            
            <div class="roles-grid">
                <div class="role-card">
                    <h3>üë§ –ö–ª–∏–µ–Ω—Ç</h3>
                    <p>–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏ –æ—Ç–∫–ª—é—á–∞—Ç—å —É—Å–ª—É–≥–∏</p>
                </div>
                
                <div class="role-card">
                    <h3>üëî –ó–∞–∫–∞–∑—á–∏–∫</h3>
                    <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏, —Å–æ–∑–¥–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —É—Å–ª—É–≥–∞–º–∏</p>
                </div>
                
                <div class="role-card">
                    <h3>üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h3>
                    <p>–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                </div>
            </div>
        </div>

        {% if current_user.is_authenticated %}
            <div class="user-info-card">
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ:</h3>
                <p><strong>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong> {{ current_user.username }}</p>
                <p><strong>Email:</strong> {{ current_user.email }}</p>
                <p><strong>–†–æ–ª—å:</strong> {{ current_user.role }}</p>
                <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ current_user.created_at.strftime('%d.%m.%Y %H:%M') }}</p>
            </div>
        {% endif %}
    {% endif %}

{% else %}
    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div class="welcome-section">
        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ProjectX2!</h2>
        <p>–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏ —Å —Ç—Ä–µ–º—è —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</p>
        
        <div class="roles-grid">
            <div class="role-card">
                <h3>üë§ –ö–ª–∏–µ–Ω—Ç</h3>
                <p>–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏ –æ—Ç–∫–ª—é—á–∞—Ç—å —É—Å–ª—É–≥–∏</p>
            </div>
            
            <div class="role-card">
                <h3>üëî –ó–∞–∫–∞–∑—á–∏–∫</h3>
                <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏, —Å–æ–∑–¥–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —É—Å–ª—É–≥–∞–º–∏</p>
            </div>
            
            <div class="role-card">
                <h3>üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h3>
                <p>–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
            </div>
        </div>

        <div style="margin-top: 30px; text-align: center;">
            <p>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</p>
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;">
                <a href="/login" class="btn btn-primary">–í–æ–π—Ç–∏</a>
                <a href="/register" class="btn btn-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
        </div>
    </div>
{% endif %}

<style>
.dashboard-actions-horizontal {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.action-card-horizontal {
    display: flex;
    align-items: center;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    min-width: 300px;
    max-width: 400px;
    flex: 1;
}

.action-card-horizontal:hover {
    transform: translateY(-3px);
}

.action-icon {
    font-size: 48px;
    margin-right: 20px;
    flex-shrink: 0;
}

.action-content {
    flex: 1;
}

.action-content h3 {
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 20px;
}

.action-content p {
    color: #6c757d;
    margin-bottom: 15px;
}

.action-content .btn {
    width: 100%;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
    .dashboard-actions-horizontal {
        flex-direction: column;
    }
    
    .action-card-horizontal {
        flex-direction: column;
        text-align: center;
    }
    
    .action-icon {
        margin-right: 0;
        margin-bottom: 15px;
    }
}
</style>
{% endblock %}